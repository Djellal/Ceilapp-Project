@page "/"

<PageTitle>Index</PageTitle>
@inject Microsoft.Extensions.Localization.IStringLocalizer<Index> L


<RadzenCard Style="text-align: center; padding-top: 0px">
    <RadzenImage Path="images/ceillogo.png" Style="width: 150px"></RadzenImage>
    <RadzenText TextStyle="Radzen.Blazor.TextStyle.H6" TextAlign="Radzen.TextAlign.Center" Style="font-style: italic; font-family: 'Comic Sans MS'" Text=" مركز التعليم المكثف للغات مصلحة من المصالح المشتركة التابعة للجامعة. يقدم المركز خدمة عمومية لتعليم اللغات موجهة بالدرجة الأولى لكافة أفراد الأسرة الجامعية من طلبة و أساتذة و موظفين إلا أنه مفتوح للخارجيين في إطار الاتفاقيات المبرمة مع مختلف القطاعات أو للأفراد الراغبين في تحسين مستواهم في اللغات." />
    <RadzenTemplateForm Action="@($"account/login?redirectUrl={redirectUrl}")" Data="@("login")" Method="post" Visible="!Security.IsAuthenticated()" Style="margin: 10px; padding: 10px; border-radius: 15px; border: 5px solid #423dc8; background-color: rgba(65, 61, 200, 0.14)">
         <RadzenRow AlignItems="Radzen.AlignItems.Center">
        <RadzenColumn Size="12" SizeXS="6">
            <RadzenAlert Shade="Radzen.Shade.Lighter" Variant="Radzen.Variant.Flat" Size="Radzen.AlertSize.Small" AlertStyle="Radzen.AlertStyle.Danger" Visible="@errorVisible" Text="@error">@error</RadzenAlert>
            <RadzenAlert Shade="Radzen.Shade.Lighter" Variant="Radzen.Variant.Flat" Size="Radzen.AlertSize.Small" AlertStyle="Radzen.AlertStyle.Info" Visible="@infoVisible" Text="@info">@info</RadzenAlert>
            <RadzenLogin AllowResetPassword="false" AllowRegister="false" FormFieldVariant="Variant.Filled"
                                    ResetPassword="@ResetPassword"
                                    Register="@Register" AllowRememberMe="true" RememberMe="true" UserText="Nom d'utilisateur" UserRequired="Le nom d'utilisateur est requis" PasswordText="Mot de passe " PasswordRequired="Mot de passe  est requit" ResetPasswordText="Mot de passe oublié ?" RememberMeText="souviens-toi de moi" LoginText="Connexion" RegisterText="Inscription" RegisterMessageText="Vous n'avez pas encore de compte ?" Style="padding-top: 1em; padding-bottom: 1em; font-style: normal; text-align: center"
                            />
        </RadzenColumn>
        <RadzenColumn Size="12" SizeXS="6">
            <RadzenStack Orientation="Radzen.Orientation.Vertical" AlignItems="Radzen.AlignItems.Center" JustifyContent="Radzen.JustifyContent.SpaceBetween" Reverse="false" Style="margin-top: 2em">
                    <RadzenHeading Text="Vous n'avez pas encore de compte ?" Size="H2"></RadzenHeading>
                    <RadzenButton Text="Inscription" Icon="app_registration" Size="Radzen.ButtonSize.Medium" ButtonStyle="Radzen.ButtonStyle.Success" Click="@InscriptionClick" Style="border-radius: 8px"></RadzenButton>
             </RadzenStack>
        </RadzenColumn>
    </RadzenRow>
        </RadzenTemplateForm>
   
</RadzenCard>
<RadzenCard Style="margin-top: 2em">
    <RadzenText TextStyle="Radzen.Blazor.TextStyle.H5" Class="rz-mb-6" TextAlign="TextAlign.Center" Style="font-weight: 700" Text="Cours disponibles"/>
    <RadzenDataList TItem="Models.ceilapp.Course" Data="@courses" WrapItems="true" AllowPaging="false" PageSize="10" Style="gap: 20px;">
        <Template>
            <RadzenCard Style="width: 250px; margin: 10px; padding: 20px; border-radius: 12px;" Class="course-card">
                <RadzenStack Orientation="Orientation.Vertical" AlignItems="AlignItems.Center" Gap="1.5rem">
                    <div class="image-container" style="background-color: rgba(255, 255, 255, 0)">
                        <RadzenImage Style="height: 140px; width: 140px; object-fit: cover; border-radius: 8px;" Path="@context.Image" Class="rz-mb-2"/>
                    </div>
                    <RadzenHeading Text="@(context.Name +" - "+ context.NameAr)" Size="H5" Style="margin: 0; font-weight: 600; text-align: center" />

                    <RadzenLink Text="Inscription" Icon="app_registration" Path="@($"/edit-course-registration/true/{context.Id}/false")" Style="font-weight: 600; font-style: italic; font-family: 'Comic Sans MS'; border-radius: 5px; border: 1px solid #e31c65; padding: 5px; width: 100%; text-align: center"></RadzenLink>
                    <RadzenLink Text="Réinscription" Icon="app_registration" Path="@($"/edit-course-registration/true/{context.Id}/true")" Style="font-weight: 600; font-style: italic; font-family: 'Comic Sans MS'; border-radius: 5px; border: 1px solid #e31200; padding: 5px; width: 100%; text-align: center"></RadzenLink>
                </RadzenStack>
            </RadzenCard>
        </Template>
    </RadzenDataList>
</RadzenCard>

<style>
    .hero-section {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        padding: 20px 0;
    }

    .course-card {
        transition: all 0.3s ease-in-out;
        background: white;
    }

    .course-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    }

    .image-container {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .auth-button {
        transition: all 0.2s ease-in-out;
    }

    .auth-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .learn-more-btn {
        transition: all 0.2s ease-in-out;
    }

    .learn-more-btn:hover {
        transform: scale(1.02);
    }
</style>
